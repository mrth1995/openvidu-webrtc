<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
		"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
				template="/WEB-INF/template/layout-basic.xhtml"
				xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
				xmlns:p="http://primefaces.org/ui"
				xmlns:h="http://xmlns.jcp.org/jsf/html"
				xmlns:f="http://xmlns.jcp.org/jsf/core">
	<ui:define name="content">
		<p:messages id="globalMessages" globalOnly="true" showDetail="true" showSummary="true"/>
		<h:form id="main-form" class="login-ribbon">
			<p:remoteCommand name="rc" action="#{indexController.remote()}" update=":globalMessages" />
			<p:outputPanel styleClass="login-panel">
				<p class="login-header" style="font-weight: bold;">
					Video Call
				</p>
				<div class="form-group">
					<p:inputText id="nickname" value="#{indexController.name}"
								 required="true" requiredMessage="* Nickaname cannot be empty" styleClass="input"/>
					<p:message for="nickname"/>
					<p:watermark value="Nickname" for="nickname"/>
				</div>
				<div class="form-group">
					<p:inputText id="sessionName" value="#{indexController.roomName}"
								 required="true" requiredMessage="* Password cannot be empty" styleClass="input"
								 autocomplete="false"/>
					<p:message for="sessionName"/>
					<p:watermark value="Session Name" for="sessionName"/>
				</div>
				<div class="form-group">
					<label class="label"/>
					<p:commandButton value="JOIN" styleClass="login-button input" action="#{indexController.join()}"
									 update="@form :globalMessages"/>
				</div>
				<div class="form-group">
					<label class="label"/>
					<p:commandButton value="Remote" styleClass="login-button input" onclick="rc()"/>
				</div>
			</p:outputPanel>
		</h:form>
		<hr/>
		<h:form>
			<div id="session" style="display: none;">
				<div id="session-header">
					<h1 id="session-title"/>
					<p:commandButton value="Leave" action="#{indexController.leave()}"/>
				</div>
				<div id="main-video" style="width: 120px; height: 120px">
					<p class="nickName"/>
					<video playsinline="true"/>
				</div>
				<div id="video-container" style="width: 120px; height: 120px"></div>
			</div>
		</h:form>
	</ui:define>
</ui:composition>
